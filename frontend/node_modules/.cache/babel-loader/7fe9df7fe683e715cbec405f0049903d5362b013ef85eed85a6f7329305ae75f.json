{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dulra/OneDrive/Desktop/backend/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/dulra/OneDrive/Desktop/backend/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/dulra/OneDrive/Desktop/backend/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/dulra/OneDrive/Desktop/backend/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Axios from\"axios\";import\"./css/Register.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Register(){var _useState=useState({username:\"\",password:\"\",mail:\"\",bio:\"\",photo:null}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),response=_useState4[0],setResponse=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];function Register(_x){return _Register.apply(this,arguments);}function _Register(){_Register=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var datax,r;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();if(response.length!==0){setResponse(\"\");}_context.prev=2;setLoading(true);datax=new FormData();datax.append(\"username\",data.username);datax.append(\"password\",data.password);datax.append(\"mail\",data.mail);datax.append(\"bio\",data.bio);if(data.photo){datax.append(\"photo\",data.photo);}_context.next=12;return Axios.post(\"http://localhost:8000/register\",datax,{headers:{\"Content-Type\":\"multipart/form-data\"}});case 12:r=_context.sent;if(r.status===201){setResponse(\"User created\");}else if(r.status===409){setResponse(\"User already exists\");}else if(r.status===400){setResponse(\"Required credentials not filled\");}else{setResponse(\"Internal Server Error\");}setLoading(false);_context.next=22;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](2);console.error(_context.t0);setResponse(\"Error occurred. Please try again.\");setLoading(false);case 22:case\"end\":return _context.stop();}},_callee,null,[[2,17]]);}));return _Register.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:Register,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{username:e.target.value}));},value:data.username,type:\"text\",required:true,placeholder:\"Enter Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{password:e.target.value}));},value:data.password,type:\"password\",required:true,placeholder:\"Enter password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{mail:e.target.value}));},value:data.mail,type:\"email\",required:true,placeholder:\"Enter mail\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{bio:e.target.value}));},value:data.bio,placeholder:\"Enter Bio\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setData(_objectSpread(_objectSpread({},data),{},{photo:e.target.files[0]}));},type:\"file\"}),/*#__PURE__*/_jsx(\"p\",{children:response}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"10vw\",height:\"10vh\"},disabled:loading,children:loading?\"Loading...\":\"Register\"})]})});}","map":{"version":3,"names":["React","useState","Axios","jsx","_jsx","jsxs","_jsxs","Register","_useState","username","password","mail","bio","photo","_useState2","_slicedToArray","data","setData","_useState3","_useState4","response","setResponse","_useState5","_useState6","loading","setLoading","_x","_Register","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","datax","r","wrap","_callee$","_context","prev","next","preventDefault","length","FormData","append","post","headers","sent","status","t0","console","error","stop","className","children","onSubmit","onChange","_objectSpread","target","value","type","required","placeholder","files","style","width","height","disabled"],"sources":["C:/Users/dulra/OneDrive/Desktop/backend/frontend/src/components/Registration.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport \"./css/Register.css\";\r\n\r\nexport default function Register() {\r\n  const [data, setData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    mail: \"\",\r\n    bio: \"\",\r\n    photo: null,\r\n  });\r\n  const [response, setResponse] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function Register(e) {\r\n    e.preventDefault();\r\n    if (response.length !== 0) {\r\n      setResponse(\"\");\r\n    }\r\n    try {\r\n      setLoading(true);\r\n      const datax = new FormData();\r\n      datax.append(\"username\", data.username);\r\n      datax.append(\"password\", data.password);\r\n      datax.append(\"mail\", data.mail);\r\n      datax.append(\"bio\", data.bio);\r\n      if (data.photo) {\r\n        datax.append(\"photo\", data.photo);\r\n      }\r\n\r\n      const r = await Axios.post(\"http://localhost:8000/register\", datax, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      });\r\n\r\n      if (r.status === 201) {\r\n        setResponse(\"User created\");\r\n      } else if (r.status === 409) {\r\n        setResponse(\"User already exists\");\r\n      } else if (r.status === 400) {\r\n        setResponse(\"Required credentials not filled\");\r\n      } else {\r\n        setResponse(\"Internal Server Error\");\r\n      }\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setResponse(\"Error occurred. Please try again.\");\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <form onSubmit={Register}>\r\n        <h1>Register</h1>\r\n        <input\r\n          onChange={(e) => setData({ ...data, username: e.target.value })}\r\n          value={data.username}\r\n          type=\"text\"\r\n          required\r\n          placeholder=\"Enter Username\"\r\n        />\r\n        <input\r\n          onChange={(e) => setData({ ...data, password: e.target.value })}\r\n          value={data.password}\r\n          type=\"password\"\r\n          required\r\n          placeholder=\"Enter password\"\r\n        />\r\n        <input\r\n          onChange={(e) => setData({ ...data, mail: e.target.value })}\r\n          value={data.mail}\r\n          type=\"email\"\r\n          required\r\n          placeholder=\"Enter mail\"\r\n        />\r\n        <input\r\n          onChange={(e) => setData({ ...data, bio: e.target.value })}\r\n          value={data.bio}\r\n          placeholder=\"Enter Bio\"\r\n        />\r\n        <input\r\n          onChange={(e) => setData({ ...data, photo: e.target.files[0] })}\r\n          type=\"file\"\r\n        />\r\n        <p>{response}</p>\r\n        <button\r\n          type=\"submit\"\r\n          style={{ width: \"10vw\", height: \"10vh\" }}\r\n          disabled={loading}\r\n        >\r\n          {loading ? \"Loading...\" : \"Register\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}